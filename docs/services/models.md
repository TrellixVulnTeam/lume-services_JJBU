# Model Service

The model service provides a registry for models and their metadata. Metadata is organized into the following tables:


1. Models
The Models table tracks top-level information about a model. This includes:

* author
* laboratory
* facility
* beampath
* description
* create date (generated on input)
* model id (generated on input)


2. Deployments
Deployments are versioned releases of a registered model. Deployments include information about source code and container image:


* sha256: hash of the source
* deployment_id (generated on input)
* version
* package_import_name: python import string
* asset_dir: directory for designated imports (** this should be flushed out)
* source: uri of package source
* image: Name of the container image
* is_live: Whether the deployment is live in production


3. Projects

Prefect organizes flows into projects. This table tracks projects as registered with Prefect and allows providing a description.

* Project name
* Description


4. Flows

Flows track the relationship between deployments and Prefect flow metadata:


* Flow ID: ID of flow generated by Prefect
* Flow name
* Project name
* Deployment ID: ID of corresponding deployment

5. Flow of flows


Workflows may be constructed by stitching together many subflows. This table tracks the stitching by a one-to-many mapping between the parent flow id in the Flows table, to entries the Flow of Flows table.


* Parent flow ID:  ID of parent flow
* Flow ID: ID of subflow
* Position: Relative position in the flow of flows composition. For example, the second flow would have 2 in this field.